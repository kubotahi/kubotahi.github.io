{"version":3,"sources":["webpack:///./src/views/04.vue?b0de","webpack:///./src/views/04.vue","webpack:///./src/views/04.vue?4dd9","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","width","height","data","mounted","marge","top","bottom","left","right","svg","d3","attr","g","append","nodes","name","edges","source","target","relation","value","colorScale","domain","length","range","forceSimulation","force","on","ticked","links","distance","d","x","y","selectAll","enter","i","linksText","text","gs","cirX","cirY","call","started","dragged","ended","active","alphaTarget","restart","fx","fy","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","this","match","error"],"mappings":"kHAAA,W,8DCCOA,MAAM,a,EAET,eAEM,OAFDA,MAAM,SAAO,CAChB,eAAoC,OAA/BC,MAAM,MAAMC,OAAO,U,2CAH5B,eAMM,MANN,EAMM,CAJJ,I,0BAUW,GACbC,KADa,WAEX,MAAO,IAETC,QAJa,WAKX,IAAIC,EAAQ,CAAEC,IAAK,GAAIC,OAAQ,GAAIC,KAAM,GAAIC,MAAO,IAChDC,EAAMC,EAAA,KAAU,OAChBV,EAAQS,EAAIE,KAAK,SACjBV,EAASQ,EAAIE,KAAK,UAClBC,EAAIH,EAAII,OAAO,KAChBF,KAAK,YAAa,aAAeP,EAAMC,IAAM,IAAMD,EAAMG,KAAO,KAI/DO,EAAQ,CACV,CAAEC,KAAM,KACR,CAAEA,KAAM,KACR,CAAEA,KAAM,KACR,CAAEA,KAAM,KACR,CAAEA,KAAM,KACR,CAAEA,KAAM,KACR,CAAEA,KAAM,KACR,CAAEA,KAAM,KACR,CAAEA,KAAM,MAGNC,EAAQ,CACV,CAAEC,OAAQ,EAAGC,OAAQ,EAAGC,SAAU,KAAMC,MAAO,KAC/C,CAAEH,OAAQ,EAAGC,OAAQ,EAAGC,SAAU,KAAMC,MAAO,GAC/C,CAAEH,OAAQ,EAAGC,OAAQ,EAAGC,SAAU,KAAMC,MAAO,GAC/C,CAAEH,OAAQ,EAAGC,OAAQ,EAAGC,SAAU,KAAMC,MAAO,GAC/C,CAAEH,OAAQ,EAAGC,OAAQ,EAAGC,SAAU,KAAMC,MAAO,GAC/C,CAAEH,OAAQ,EAAGC,OAAQ,EAAGC,SAAU,KAAMC,MAAO,IAC/C,CAAEH,OAAQ,EAAGC,OAAQ,EAAGC,SAAU,KAAMC,MAAO,GAC/C,CAAEH,OAAQ,EAAGC,OAAQ,EAAGC,SAAU,KAAMC,MAAO,KAC/C,CAAEH,OAAQ,EAAGC,OAAQ,EAAGC,SAAU,KAAMC,MAAO,IAC/C,CAAEH,OAAQ,EAAGC,OAAQ,EAAGC,SAAU,KAAMC,MAAO,IAG7CC,EAAaX,EAAA,OACdY,OAAOZ,EAAA,KAASI,EAAMS,SACtBC,MAAMd,EAAA,MAELe,EAAkBf,EAAA,OACnBgB,MAAM,OAAQhB,EAAA,QACdgB,MAAM,SAAUhB,EAAA,QAChBgB,MAAM,SAAUhB,EAAA,QAEnBe,EAAgBX,MAAMA,GACnBa,GAAG,OAAQC,GAEdH,EAAgBC,MAAM,QACnBG,MAAMb,GACNc,UAAS,SAAUC,GAClB,OAAiB,IAAVA,EAAEX,SAGbK,EAAgBC,MAAM,UACnBM,EAAEhC,EAAQ,GACViC,EAAEhC,EAAS,GAKd,IAAI4B,EAAQjB,EAAEC,OAAO,KAClBqB,UAAU,QACVhC,KAAKc,GACLmB,QACAtB,OAAO,QACPF,KAAK,UAAU,SAAUoB,EAAGK,GAC3B,OAAOf,EAAWe,MAEnBzB,KAAK,eAAgB,GAEpB0B,EAAYzB,EAAEC,OAAO,KACtBqB,UAAU,QACVhC,KAAKc,GACLmB,QACAtB,OAAO,QACPyB,MAAK,SAAUP,GACd,OAAOA,EAAEZ,YAGToB,EAAK3B,EAAEsB,UAAU,eAClBhC,KAAKY,GACLqB,QACAtB,OAAO,KACPF,KAAK,aAAa,SAAUoB,GAC3B,IAAIS,EAAOT,EAAEC,EACTS,EAAOV,EAAEE,EACb,MAAO,aAAeO,EAAO,IAAMC,EAAO,OAE3CC,KAAKhC,EAAA,OACHiB,GAAG,QAASgB,GACZhB,GAAG,OAAQiB,GACXjB,GAAG,MAAOkB,IAiBf,SAASjB,IACPC,EACGlB,KAAK,MAAM,SAAUoB,GAAK,OAAOA,EAAEd,OAAOe,KAC1CrB,KAAK,MAAM,SAAUoB,GAAK,OAAOA,EAAEd,OAAOgB,KAC1CtB,KAAK,MAAM,SAAUoB,GAAK,OAAOA,EAAEb,OAAOc,KAC1CrB,KAAK,MAAM,SAAUoB,GAAK,OAAOA,EAAEb,OAAOe,KAC7CI,EACG1B,KAAK,KAAK,SAAUoB,GAAK,OAAQA,EAAEd,OAAOe,EAAID,EAAEb,OAAOc,GAAK,KAC5DrB,KAAK,KAAK,SAAUoB,GAAK,OAAQA,EAAEd,OAAOgB,EAAIF,EAAEb,OAAOe,GAAK,KAC/DM,EACG5B,KAAK,aAAa,SAAUoB,GAAK,MAAO,aAAeA,EAAEC,EAAI,IAAMD,EAAEE,EAAI,OAG9E,SAASU,EAASZ,GACXrB,EAAA,KAASoC,QACZrB,EAAgBsB,YAAY,IAAKC,UAEnCjB,EAAEkB,GAAKlB,EAAEC,EACTD,EAAEmB,GAAKnB,EAAEE,EAEX,SAASW,EAASb,GAChBA,EAAEkB,GAAKvC,EAAA,KAASsB,EAChBD,EAAEmB,GAAKxC,EAAA,KAASuB,EAElB,SAASY,EAAOd,GACTrB,EAAA,KAASoC,QACZrB,EAAgBsB,YAAY,GAE9BhB,EAAEkB,GAAK,KACPlB,EAAEmB,GAAK,KA3CTX,EAAG1B,OAAO,UACPF,KAAK,IAAK,IACVA,KAAK,QAAQ,SAAUoB,EAAGK,GACzB,OAAOf,EAAWe,MAGtBG,EAAG1B,OAAO,QACPF,KAAK,KAAM,IACXA,KAAK,KAAM,IACXA,KAAK,KAAM,IACX2B,MAAK,SAAUP,GACd,OAAOA,EAAEhB,U,UCrHjB,EAAOoC,OAASA,EAED,gB,qBCPf,IAAIC,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOL,EAA0BhB,KAAKsB,MAAMC,MAAML,GAAQ,GAC1D,MAAOM,GACP,MAAO,Q","file":"js/chunk-4e59209e.1a1a4ddf.js","sourcesContent":["export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./04.vue?vue&type=style&index=0&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./04.vue?vue&type=style&index=0&lang=css\"","<template>\n  <div class=\"container\">\n\n    <div class=\"col_2\">\n      <svg width=\"600\" height=\"600\"></svg>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport * as d3 from 'd3'\n\nexport default {\n  data () {\n    return {}\n  },\n  mounted () {\n    let marge = { top: 60, bottom: 60, left: 60, right: 60 }\n    let svg = d3.select('svg')\n    let width = svg.attr('width')\n    let height = svg.attr('height')\n    let g = svg.append('g')\n      .attr('transform', 'translate(' + marge.top + ',' + marge.left + ')')\n\n    // 准备数据\n    // 节点集\n    let nodes = [\n      { name: 'A' },\n      { name: 'B' },\n      { name: 'C' },\n      { name: 'D' },\n      { name: 'E' },\n      { name: 'F' },\n      { name: 'G' },\n      { name: 'H' },\n      { name: 'I' }\n    ]\n    // 边集\n    let edges = [\n      { source: 0, target: 4, relation: '友達', value: 1.3 },\n      { source: 4, target: 5, relation: '友達', value: 1 },\n      { source: 4, target: 6, relation: '友達', value: 1 },\n      { source: 4, target: 7, relation: '友達', value: 1 },\n      { source: 1, target: 6, relation: '友達', value: 2 },\n      { source: 2, target: 5, relation: '友達', value: 0.9 },\n      { source: 3, target: 7, relation: '友達', value: 1 },\n      { source: 5, target: 6, relation: '友達', value: 1.6 },\n      { source: 6, target: 7, relation: '友達', value: 0.7 },\n      { source: 6, target: 8, relation: '友達', value: 2 }\n    ]\n    // 设置一个颜色比例尺\n    let colorScale = d3.scaleOrdinal()\n      .domain(d3.range(nodes.length))\n      .range(d3.schemeCategory10)\n    // 新建一个力导向图\n    let forceSimulation = d3.forceSimulation()\n      .force('link', d3.forceLink())\n      .force('charge', d3.forceManyBody())\n      .force('center', d3.forceCenter())\n    // 生成节点数据\n    forceSimulation.nodes(nodes)\n      .on('tick', ticked)\n    // 生成边数据\n    forceSimulation.force('link')\n      .links(edges)\n      .distance(function (d) { // 每一边的长度\n        return d.value * 100\n      })\n    // 设置图形中心位置\n    forceSimulation.force('center')\n      .x(width / 2)\n      .y(height / 2)\n    // // 顶点集，边集\n    // console.log(nodes)\n    // console.log(edges)\n    // 绘制边\n    let links = g.append('g')\n      .selectAll('line')\n      .data(edges)\n      .enter()\n      .append('line')\n      .attr('stroke', function (d, i) {\n        return colorScale(i)\n      })\n      .attr('stroke-width', 1)\n    // 边上的文字\n    let linksText = g.append('g')\n      .selectAll('text')\n      .data(edges)\n      .enter()\n      .append('text')\n      .text(function (d) {\n        return d.relation\n      })\n    // 创建分组\n    let gs = g.selectAll('.circleText')\n      .data(nodes)\n      .enter()\n      .append('g')\n      .attr('transform', function (d) {\n        let cirX = d.x\n        let cirY = d.y\n        return 'translate(' + cirX + ',' + cirY + ')'\n      })\n      .call(d3.drag()\n        .on('start', started)\n        .on('drag', dragged)\n        .on('end', ended)\n      )\n    // 绘制节点\n    gs.append('circle')\n      .attr('r', 10)\n      .attr('fill', function (d, i) {\n        return colorScale(i)\n      })\n    // 文字\n    gs.append('text')\n      .attr('x', -10)\n      .attr('y', -20)\n      .attr('dy', 10)\n      .text(function (d) {\n        return d.name\n      })\n    // ticked\n    function ticked () {\n      links\n        .attr('x1', function (d) { return d.source.x })\n        .attr('y1', function (d) { return d.source.y })\n        .attr('x2', function (d) { return d.target.x })\n        .attr('y2', function (d) { return d.target.y })\n      linksText\n        .attr('x', function (d) { return (d.source.x + d.target.x) / 2 })\n        .attr('y', function (d) { return (d.source.y + d.target.y) / 2 })\n      gs\n        .attr('transform', function (d) { return 'translate(' + d.x + ',' + d.y + ')' })\n    }\n    // drag\n    function started (d) {\n      if (!d3.event.active) {\n        forceSimulation.alphaTarget(0.8).restart()\n      }\n      d.fx = d.x\n      d.fy = d.y\n    }\n    function dragged (d) {\n      d.fx = d3.event.x\n      d.fy = d3.event.y\n    }\n    function ended (d) {\n      if (!d3.event.active) {\n        forceSimulation.alphaTarget(0)\n      }\n      d.fx = null\n      d.fy = null\n    }\n  }\n}\n</script>\n<style>\ntext {\n  fill: #ffffff;\n}\n</style>\n","import { render } from \"./04.vue?vue&type=template&id=dc242e50\"\nimport script from \"./04.vue?vue&type=script&lang=js\"\nexport * from \"./04.vue?vue&type=script&lang=js\"\n\nimport \"./04.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}